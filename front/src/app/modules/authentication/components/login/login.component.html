<div class="h-screen flex flex-column bg-cover" style="background: url('assets/layout/images/auth-background.png')">
  <div class=" shadow-2 bg-indigo-500 z-5 p-3 flex justify-content-between flex-row align-items-center">
      <div class="ml-3 flex" routerLink="/">
          <div>
              <img class="h-2rem w-20rem" src="../../../../../assets/layout/images/sonelgaz-logo-auth.jpg" alt="" />
          </div>
      </div>
  </div>

  <div class="align-self-center mt-auto mb-auto login">
      <div class="text-center z-5 flex flex-column border-1 border-round-md surface-border surface-card px-3">
          <div class="-mt-5 text-white bg-cyan-700 border-round-md mx-auto px-3 py-1 border-1 surface-border">
              <h2 class="m-0">Authentification</h2>
          </div>

          <h4>BIENVENUE</h4>
          <div class="text-color-secondary mb-6 px-6">Vous devez vous authentifier avant d'acceder à la plateforme</div>
          <form [formGroup]="loginForm" (ngSubmit)="onFormSubmit($event)">
            <div class="w-full flex flex-column gap-3 px-3 pb-6">
                <span class="p-input-icon-left">
                    <i class="pi pi-user"></i>
                    <input type="text" formControlName="login" class="w-full" pInputText placeholder="Nom d'utilisateur" [ngClass]="{'ng-invalid ng-dirty' : this.isLoginFailed && f['login'].errors}"/>
                    <small id="username2-help" *ngIf="submitted && f['login'].errors && f['login'].errors?.['required']" class="p-error block">Champ Obligatoire </small>
                </span>
                <span class="p-input-icon-left">
                    <i class="pi pi-key"></i>
                    <input type="password" formControlName="password" class="w-full" pInputText placeholder="Mot de passe" />
                    <small id="username2-help" *ngIf="submitted && f['password'].errors && f['password'].errors?.['required']" class="p-error block">Champ Obligatoire </small>
                    <small id="username2-help" *ngIf="submitted && f['password'].errors && f['password'].errors?.['minlength']" class="p-error block">le mot de passe doit contenir au moins 8 caractères </small>
                </span>
                <button type="submit" pButton pRipple class="w-full my-3 px-3" label="Se connecter"></button>
                <div class="message-error">
                  <span>
                    <small  *ngIf="submitted && isLoginFailed" class="p-error block">{{messageErreur}} </small>
                  </span>
                </div>
            </div>
          </form>
      </div>
  </div>
</div>



<!-- <app-config [minimal]="true"></app-config> -->

<div>
  <p-progressSpinner class="progress-spinner" *ngIf="loadingVisible"  [style]="{width: '50px', height: '50px'}"  strokeWidth="8" fill="var(--surface-ground)" animationDuration=".5s"></p-progressSpinner>
</div>
